//src/styles/main.scss

/* ----------------------------------------------------------
   MAIN SCSS â€” using _variables.scss
----------------------------------------------------------- */

@import "variables";

/* -----------------------------------
   1) BASE RESET
----------------------------------- */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html,
body {
    width: 100%;
    height: 100%;
    overflow: hidden;
    /* IMPORTANT FIX: Allows R3F full screen */
    background: $bg-dark;
    font-family: $font-base;
    color: $white;
}

/* Ensure React root fills screen */
#root,
.app,
.canvas-wrapper {
    width: 100%;
    height: 100%;
    position: relative;
}

/* R3F canvas must fill the whole viewport */
canvas {
    width: 100% !important;
    height: 100% !important;
    display: block;
}

/* -----------------------------------
   2) HUD (top-right)
----------------------------------- */

.hud {
    position: fixed;
    top: $space-lg;
    right: $space-lg;

    width: $hud-width;
    padding: 12px 16px;

    display: flex;
    align-items: center;
    justify-content: space-between;

    background: linear-gradient(160deg, $hud-bg-1, $hud-bg-2);
    backdrop-filter: blur(14px) saturate(150%);
    border-radius: $radius-lg;
    box-shadow: $neon-shadow;

    z-index: 50;
}

.hud-left {
    flex: 1 1 auto;
}

.hud-title {
    font-size: 13px;
    font-weight: 700;
}

.hud-subtitle {
    margin-top: 4px;
    font-size: 11px;
    color: $text-muted;
}

/* -----------------------------------
   3) HUD ICONS
----------------------------------- */

.icon-list {
    display: flex;
    gap: 10px;
    list-style: none;
}

.icon-btn {
    border: none;
    background: transparent;
    padding: 6px;
    cursor: pointer;
    border-radius: $radius-md;

    display: grid;
    place-items: center;
}

.icon-wrap {
    width: 44px;
    height: 44px;
    position: relative;
    display: grid;
    place-items: center;
}

.icon-svg {
    width: 22px;
    height: 22px;
    color: $accent-1;
    transition: transform .32s $curve-smooth, filter .25s ease;
    filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.35));
}

.icon-ring {
    position: absolute;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    background: linear-gradient(160deg, rgba($accent-2, 0.08), rgba($accent-1, 0.08));
    opacity: 0;
    transform: scale(.8);
    transition: opacity .35s ease, transform .45s $curve-smooth;
}

/* Active Icon State */
.icon-item.active .icon-wrap {
    animation: floaty 3s ease-in-out infinite;
}

.icon-item.active .icon-ring {
    opacity: 1;
    transform: scale(1.1);
    animation: ringPulse 1.8s ease infinite;
}

.icon-item.active .icon-svg {
    transform: rotate(-8deg) scale(1.08);
    filter: drop-shadow(0 10px 22px rgba($accent-2, 0.15));
}

/* Hover */
.icon-btn:hover .icon-svg {
    transform: translateY(-4px) rotate(-4deg) scale(1.05);
}

/* -----------------------------------
   4) KEYFRAMES
----------------------------------- */

@keyframes floaty {
    0% {
        transform: translateY(0) rotate(-1deg);
    }

    50% {
        transform: translateY(-6px) rotate(3deg);
    }

    100% {
        transform: translateY(0) rotate(-1deg);
    }
}

@keyframes ringPulse {
    0% {
        transform: scale(.9);
        opacity: .8;
    }

    60% {
        transform: scale(1.25);
        opacity: .2;
    }

    100% {
        transform: scale(.9);
        opacity: 0;
    }
}

/* -----------------------------------
   5) SECTION CARD (3D HTML content)
----------------------------------- */

.section-card .card {
    width: 320px;
    padding: 18px;
    border-radius: $radius-lg;

    background: linear-gradient(180deg, $glass-1, $glass-2);
    box-shadow: 0 6px 22px rgba(0, 0, 0, 0.65);

    transition: all .35s $curve-smooth;
    transform-origin: center;
}

.card-head {
    display: flex;
    align-items: center;
    gap: 10px;
}

.card-icon {
    width: 42px;
    height: 42px;
    border-radius: $radius-md;
    display: grid;
    place-items: center;
    background: rgba(255, 255, 255, 0.05);
}

.card-icon svg {
    width: 20px;
    height: 20px;
    fill: $accent-2;
}

/* Active card highlight */
.section-card .card.active {
    transform: translateY(-6px) scale(1.03);
    box-shadow: 0 24px 44px rgba(0, 0, 0, 0.75);
    border: 1px solid rgba($accent-2, 0.15);
}

.section-card .card.active .card-icon {
    background: linear-gradient(120deg, rgba($accent-2, 0.15), rgba($accent-1, 0.12));
}

/* -----------------------------------
   6) RESPONSIVE FIXES
----------------------------------- */

@media (max-width: $mobile) {
    .hud {
        width: auto;
        left: $space-md;
        right: $space-md;
    }

    .section-card .card {
        width: 280px;
    }
}